init 1
----

init_cp
----
base: 6

queue
----

init 1
6: 1
----
L6:
  600001:[0001#1,1-0001#1,1]: 1 bytes (1B)

init_cp
----
base: 6

queue
----

init 1
6: 1000000
----
L6:
  600001:[0001#1,1-1000000#1,1]: 1000000 bytes (977KB)

init_cp
----
base: 1

queue
----

init 1
5: 1
6: 10
----
L5:
  500001:[0001#1,1-0001#1,1]: 1 bytes (1B)
L6:
  600001:[0001#1,1-0001#1,1]: 1 bytes (1B)
  600002:[0002#2,1-0002#2,1]: 1 bytes (1B)
  600003:[0003#3,1-0003#3,1]: 1 bytes (1B)
  600004:[0004#4,1-0004#4,1]: 1 bytes (1B)
  600005:[0005#5,1-0005#5,1]: 1 bytes (1B)
  600006:[0006#6,1-0006#6,1]: 1 bytes (1B)
  600007:[0007#7,1-0007#7,1]: 1 bytes (1B)
  600008:[0008#8,1-0008#8,1]: 1 bytes (1B)
  600009:[0009#9,1-0009#9,1]: 1 bytes (1B)
  600010:[0010#10,1-0010#10,1]: 1 bytes (1B)

init_cp
----
base: 5

queue
----
L5->L6: 1.0
  500001:[0001#1,1-0001#1,1] marked as compacting
  600001:[0001#1,1-0001#1,1] marked as compacting

init 1
5: 2
6: 10
----
L5:
  500001:[0001#1,1-0001#1,1]: 1 bytes (1B)
  500002:[0002#2,1-0002#2,1]: 1 bytes (1B)
L6:
  600001:[0001#1,1-0001#1,1]: 1 bytes (1B)
  600002:[0002#2,1-0002#2,1]: 1 bytes (1B)
  600003:[0003#3,1-0003#3,1]: 1 bytes (1B)
  600004:[0004#4,1-0004#4,1]: 1 bytes (1B)
  600005:[0005#5,1-0005#5,1]: 1 bytes (1B)
  600006:[0006#6,1-0006#6,1]: 1 bytes (1B)
  600007:[0007#7,1-0007#7,1]: 1 bytes (1B)
  600008:[0008#8,1-0008#8,1]: 1 bytes (1B)
  600009:[0009#9,1-0009#9,1]: 1 bytes (1B)
  600010:[0010#10,1-0010#10,1]: 1 bytes (1B)

init_cp
----
base: 5

queue
----
L5->L6: 2.2
  500001:[0001#1,1-0001#1,1] marked as compacting
  600001:[0001#1,1-0001#1,1] marked as compacting

# Smoothing multiplier is
# `(size(Lbottom)/size(Lbase))^(Lbottom-Lbase) = (30/1)^(1/(6-4)) = 30^(1/2)`
#
# size(L4) = size(Lbase) = 1
# size(L5) = size(L4) * 30^(1/2) ~= 5
# size(L6) = size(L5) * 30^(1/2) = 30

init 1
5: 2
6: 30
----
L5:
  500001:[0001#1,1-0001#1,1]: 1 bytes (1B)
  500002:[0002#2,1-0002#2,1]: 1 bytes (1B)
L6:
  600001:[0001#1,1-0001#1,1]: 1 bytes (1B)
  600002:[0002#2,1-0002#2,1]: 1 bytes (1B)
  600003:[0003#3,1-0003#3,1]: 1 bytes (1B)
  600004:[0004#4,1-0004#4,1]: 1 bytes (1B)
  600005:[0005#5,1-0005#5,1]: 1 bytes (1B)
  600006:[0006#6,1-0006#6,1]: 1 bytes (1B)
  600007:[0007#7,1-0007#7,1]: 1 bytes (1B)
  600008:[0008#8,1-0008#8,1]: 1 bytes (1B)
  600009:[0009#9,1-0009#9,1]: 1 bytes (1B)
  600010:[0010#10,1-0010#10,1]: 1 bytes (1B)
  600011:[0011#11,1-0011#11,1]: 1 bytes (1B)
  600012:[0012#12,1-0012#12,1]: 1 bytes (1B)
  600013:[0013#13,1-0013#13,1]: 1 bytes (1B)
  600014:[0014#14,1-0014#14,1]: 1 bytes (1B)
  600015:[0015#15,1-0015#15,1]: 1 bytes (1B)
  600016:[0016#16,1-0016#16,1]: 1 bytes (1B)
  600017:[0017#17,1-0017#17,1]: 1 bytes (1B)
  600018:[0018#18,1-0018#18,1]: 1 bytes (1B)
  600019:[0019#19,1-0019#19,1]: 1 bytes (1B)
  600020:[0020#20,1-0020#20,1]: 1 bytes (1B)
  600021:[0021#21,1-0021#21,1]: 1 bytes (1B)
  600022:[0022#22,1-0022#22,1]: 1 bytes (1B)
  600023:[0023#23,1-0023#23,1]: 1 bytes (1B)
  600024:[0024#24,1-0024#24,1]: 1 bytes (1B)
  600025:[0025#25,1-0025#25,1]: 1 bytes (1B)
  600026:[0026#26,1-0026#26,1]: 1 bytes (1B)
  600027:[0027#27,1-0027#27,1]: 1 bytes (1B)
  600028:[0028#28,1-0028#28,1]: 1 bytes (1B)
  600029:[0029#29,1-0029#29,1]: 1 bytes (1B)
  600030:[0030#30,1-0030#30,1]: 1 bytes (1B)

init_cp
----
base: 4

queue
----

init 1
4: 2
5: 2
6: 100
----
L4:
  400001:[0001#1,1-0001#1,1]: 1 bytes (1B)
  400002:[0002#2,1-0002#2,1]: 1 bytes (1B)
L5:
  500001:[0001#1,1-0001#1,1]: 1 bytes (1B)
  500002:[0002#2,1-0002#2,1]: 1 bytes (1B)
L6:
  600001:[0001#1,1-0100#1,1]: 100 bytes (100B)

init_cp
----
base: 4

queue
----
L4->L5: 10.0
  400001:[0001#1,1-0001#1,1] marked as compacting
  500001:[0001#1,1-0001#1,1] marked as compacting

init 1
4: 1
5: 2
6: 100
----
L4:
  400001:[0001#1,1-0001#1,1]: 1 bytes (1B)
L5:
  500001:[0001#1,1-0001#1,1]: 1 bytes (1B)
  500002:[0002#2,1-0002#2,1]: 1 bytes (1B)
L6:
  600001:[0001#1,1-0100#1,1]: 100 bytes (100B)

init_cp
----
base: 4

queue
----
L4->L5: 5.0
  400001:[0001#1,1-0001#1,1] marked as compacting
  500001:[0001#1,1-0001#1,1] marked as compacting

init 1
4: 1
5: 11
6: 100
----
L4:
  400001:[0001#1,1-0001#1,1]: 1 bytes (1B)
L5:
  500001:[0001#1,1-0001#1,1]: 1 bytes (1B)
  500002:[0002#2,1-0002#2,1]: 1 bytes (1B)
  500003:[0003#3,1-0003#3,1]: 1 bytes (1B)
  500004:[0004#4,1-0004#4,1]: 1 bytes (1B)
  500005:[0005#5,1-0005#5,1]: 1 bytes (1B)
  500006:[0006#6,1-0006#6,1]: 1 bytes (1B)
  500007:[0007#7,1-0007#7,1]: 1 bytes (1B)
  500008:[0008#8,1-0008#8,1]: 1 bytes (1B)
  500009:[0009#9,1-0009#9,1]: 1 bytes (1B)
  500010:[0010#10,1-0010#10,1]: 1 bytes (1B)
  500011:[0011#11,1-0011#11,1]: 1 bytes (1B)
L6:
  600001:[0001#1,1-0100#1,1]: 100 bytes (100B)

init_cp
----
base: 4

queue
----
L5->L6: 1.1
  500001:[0001#1,1-0001#1,1] marked as compacting
  500002:[0002#2,1-0002#2,1] marked as compacting
  500003:[0003#3,1-0003#3,1] marked as compacting
  500004:[0004#4,1-0004#4,1] marked as compacting
  500005:[0005#5,1-0005#5,1] marked as compacting
  500006:[0006#6,1-0006#6,1] marked as compacting
  500007:[0007#7,1-0007#7,1] marked as compacting
  500008:[0008#8,1-0008#8,1] marked as compacting
  500009:[0009#9,1-0009#9,1] marked as compacting
  500010:[0010#10,1-0010#10,1] marked as compacting
  500011:[0011#11,1-0011#11,1] marked as compacting
  600001:[0001#1,1-0100#1,1] marked as compacting

init 1
4: 1
5: 11 50
6: 100
----
L4:
  400001:[0001#1,1-0001#1,1]: 1 bytes (1B)
L5:
  500001:[0001#1,1-0001#1,1]: 1 bytes (1B)
  500002:[0002#2,1-0002#2,1]: 1 bytes (1B)
  500003:[0003#3,1-0003#3,1]: 1 bytes (1B)
  500004:[0004#4,1-0004#4,1]: 1 bytes (1B)
  500005:[0005#5,1-0005#5,1]: 1 bytes (1B)
  500006:[0006#6,1-0006#6,1]: 1 bytes (1B)
  500007:[0007#7,1-0007#7,1]: 1 bytes (1B)
  500008:[0008#8,1-0008#8,1]: 1 bytes (1B)
  500009:[0009#9,1-0009#9,1]: 1 bytes (1B)
  500010:[0010#10,1-0010#10,1]: 1 bytes (1B)
  500011:[0011#11,1-0011#11,1]: 1 bytes (1B)
L6:
  600001:[0001#1,1-0100#1,1]: 100 bytes (100B)

init_cp
----
base: 4

queue
----
L5->L6: 6.2
  500001:[0001#1,1-0001#1,1] marked as compacting
  500002:[0002#2,1-0002#2,1] marked as compacting
  500003:[0003#3,1-0003#3,1] marked as compacting
  500004:[0004#4,1-0004#4,1] marked as compacting
  500005:[0005#5,1-0005#5,1] marked as compacting
  500006:[0006#6,1-0006#6,1] marked as compacting
  500007:[0007#7,1-0007#7,1] marked as compacting
  500008:[0008#8,1-0008#8,1] marked as compacting
  500009:[0009#9,1-0009#9,1] marked as compacting
  500010:[0010#10,1-0010#10,1] marked as compacting
  500011:[0011#11,1-0011#11,1] marked as compacting
  600001:[0001#1,1-0100#1,1] marked as compacting

init 1
4: 2
5: 11
6: 100
----
L4:
  400001:[0001#1,1-0001#1,1]: 1 bytes (1B)
  400002:[0002#2,1-0002#2,1]: 1 bytes (1B)
L5:
  500001:[0001#1,1-0001#1,1]: 1 bytes (1B)
  500002:[0002#2,1-0002#2,1]: 1 bytes (1B)
  500003:[0003#3,1-0003#3,1]: 1 bytes (1B)
  500004:[0004#4,1-0004#4,1]: 1 bytes (1B)
  500005:[0005#5,1-0005#5,1]: 1 bytes (1B)
  500006:[0006#6,1-0006#6,1]: 1 bytes (1B)
  500007:[0007#7,1-0007#7,1]: 1 bytes (1B)
  500008:[0008#8,1-0008#8,1]: 1 bytes (1B)
  500009:[0009#9,1-0009#9,1]: 1 bytes (1B)
  500010:[0010#10,1-0010#10,1]: 1 bytes (1B)
  500011:[0011#11,1-0011#11,1]: 1 bytes (1B)
L6:
  600001:[0001#1,1-0100#1,1]: 100 bytes (100B)

init_cp
----
base: 4

queue
----
L4->L5: 1.8
  400001:[0001#1,1-0001#1,1] marked as compacting
  500001:[0001#1,1-0001#1,1] marked as compacting

init 1
0: 4
----
L0:
  000001:[0001#1,1-0001#1,1]: 1 bytes (1B)
  000002:[0001#2,1-0001#2,1]: 1 bytes (1B)
  000003:[0001#3,1-0001#3,1]: 1 bytes (1B)
  000004:[0001#4,1-0001#4,1]: 1 bytes (1B)

init_cp
----
base: 6

queue
----
L0->L6: 200.0
  000001:[0001#1,1-0001#1,1] marked as compacting
  000002:[0001#2,1-0001#2,1] marked as compacting
  000003:[0001#3,1-0001#3,1] marked as compacting
  000004:[0001#4,1-0001#4,1] marked as compacting

init 1
0: 5
----
L0:
  000001:[0001#1,1-0001#1,1]: 1 bytes (1B)
  000002:[0001#2,1-0001#2,1]: 1 bytes (1B)
  000003:[0001#3,1-0001#3,1]: 1 bytes (1B)
  000004:[0001#4,1-0001#4,1]: 1 bytes (1B)
  000005:[0001#5,1-0001#5,1]: 1 bytes (1B)

init_cp
----
base: 6

queue
----
L0->L6: 250.0
  000001:[0001#1,1-0001#1,1] marked as compacting
  000002:[0001#2,1-0001#2,1] marked as compacting
  000003:[0001#3,1-0001#3,1] marked as compacting
  000004:[0001#4,1-0001#4,1] marked as compacting
  000005:[0001#5,1-0001#5,1] marked as compacting

init 1
0: 5
5: 2
6: 10
----
L0:
  000001:[0001#1,1-0001#1,1]: 1 bytes (1B)
  000002:[0001#2,1-0001#2,1]: 1 bytes (1B)
  000003:[0001#3,1-0001#3,1]: 1 bytes (1B)
  000004:[0001#4,1-0001#4,1]: 1 bytes (1B)
  000005:[0001#5,1-0001#5,1]: 1 bytes (1B)
L5:
  500001:[0001#1,1-0001#1,1]: 1 bytes (1B)
  500002:[0002#2,1-0002#2,1]: 1 bytes (1B)
L6:
  600001:[0001#1,1-0001#1,1]: 1 bytes (1B)
  600002:[0002#2,1-0002#2,1]: 1 bytes (1B)
  600003:[0003#3,1-0003#3,1]: 1 bytes (1B)
  600004:[0004#4,1-0004#4,1]: 1 bytes (1B)
  600005:[0005#5,1-0005#5,1]: 1 bytes (1B)
  600006:[0006#6,1-0006#6,1]: 1 bytes (1B)
  600007:[0007#7,1-0007#7,1]: 1 bytes (1B)
  600008:[0008#8,1-0008#8,1]: 1 bytes (1B)
  600009:[0009#9,1-0009#9,1]: 1 bytes (1B)
  600010:[0010#10,1-0010#10,1]: 1 bytes (1B)

init_cp
----
base: 5

queue
----
L5->L6: 3.2
  500001:[0001#1,1-0001#1,1] marked as compacting
  600001:[0001#1,1-0001#1,1] marked as compacting

pick
----
Initial state before pick:
L0:
  000001:[0001#1,1-0001#1,1]: 1 bytes (1B)
  000002:[0001#2,1-0001#2,1]: 1 bytes (1B)
  000003:[0001#3,1-0001#3,1]: 1 bytes (1B)
  000004:[0001#4,1-0001#4,1]: 1 bytes (1B)
  000005:[0001#5,1-0001#5,1]: 1 bytes (1B)
L5:
  500001:[0001#1,1-0001#1,1]: 1 bytes (1B)
  500002:[0002#2,1-0002#2,1]: 1 bytes (1B)
L6:
  600001:[0001#1,1-0001#1,1]: 1 bytes (1B)
  600002:[0002#2,1-0002#2,1]: 1 bytes (1B)
  600003:[0003#3,1-0003#3,1]: 1 bytes (1B)
  600004:[0004#4,1-0004#4,1]: 1 bytes (1B)
  600005:[0005#5,1-0005#5,1]: 1 bytes (1B)
  600006:[0006#6,1-0006#6,1]: 1 bytes (1B)
  600007:[0007#7,1-0007#7,1]: 1 bytes (1B)
  600008:[0008#8,1-0008#8,1]: 1 bytes (1B)
  600009:[0009#9,1-0009#9,1]: 1 bytes (1B)
  600010:[0010#10,1-0010#10,1]: 1 bytes (1B)
Picked: L5->L6: 3.2

pick ongoing=(5,6)
----
Initial state before pick:
L0:
  000001:[0001#1,1-0001#1,1]: 1 bytes (1B)
  000002:[0001#2,1-0001#2,1]: 1 bytes (1B)
  000003:[0001#3,1-0001#3,1]: 1 bytes (1B)
  000004:[0001#4,1-0001#4,1]: 1 bytes (1B)
  000005:[0001#5,1-0001#5,1]: 1 bytes (1B)
L5:
  500001:[0001#1,1-0001#1,1]: 1 bytes (1B) (IsCompacting)
  500002:[0002#2,1-0002#2,1]: 1 bytes (1B)
L6:
  600001:[0001#1,1-0001#1,1]: 1 bytes (1B) (IsCompacting)
  600002:[0002#2,1-0002#2,1]: 1 bytes (1B)
  600003:[0003#3,1-0003#3,1]: 1 bytes (1B)
  600004:[0004#4,1-0004#4,1]: 1 bytes (1B)
  600005:[0005#5,1-0005#5,1]: 1 bytes (1B)
  600006:[0006#6,1-0006#6,1]: 1 bytes (1B)
  600007:[0007#7,1-0007#7,1]: 1 bytes (1B)
  600008:[0008#8,1-0008#8,1]: 1 bytes (1B)
  600009:[0009#9,1-0009#9,1]: 1 bytes (1B)
  600010:[0010#10,1-0010#10,1]: 1 bytes (1B)
Picked: no compaction

init 1
0: 10
4: 10
5: 6
6: 10
----
L0:
  000001:[0001#1,1-0001#1,1]: 1 bytes (1B)
  000002:[0001#2,1-0001#2,1]: 1 bytes (1B)
  000003:[0001#3,1-0001#3,1]: 1 bytes (1B)
  000004:[0001#4,1-0001#4,1]: 1 bytes (1B)
  000005:[0001#5,1-0001#5,1]: 1 bytes (1B)
  000006:[0001#6,1-0001#6,1]: 1 bytes (1B)
  000007:[0001#7,1-0001#7,1]: 1 bytes (1B)
  000008:[0001#8,1-0001#8,1]: 1 bytes (1B)
  000009:[0001#9,1-0001#9,1]: 1 bytes (1B)
  000010:[0001#10,1-0001#10,1]: 1 bytes (1B)
L4:
  400001:[0001#1,1-0001#1,1]: 1 bytes (1B)
  400002:[0002#2,1-0002#2,1]: 1 bytes (1B)
  400003:[0003#3,1-0003#3,1]: 1 bytes (1B)
  400004:[0004#4,1-0004#4,1]: 1 bytes (1B)
  400005:[0005#5,1-0005#5,1]: 1 bytes (1B)
  400006:[0006#6,1-0006#6,1]: 1 bytes (1B)
  400007:[0007#7,1-0007#7,1]: 1 bytes (1B)
  400008:[0008#8,1-0008#8,1]: 1 bytes (1B)
  400009:[0009#9,1-0009#9,1]: 1 bytes (1B)
  400010:[0010#10,1-0010#10,1]: 1 bytes (1B)
L5:
  500001:[0001#1,1-0001#1,1]: 1 bytes (1B)
  500002:[0002#2,1-0002#2,1]: 1 bytes (1B)
  500003:[0003#3,1-0003#3,1]: 1 bytes (1B)
  500004:[0004#4,1-0004#4,1]: 1 bytes (1B)
  500005:[0005#5,1-0005#5,1]: 1 bytes (1B)
  500006:[0006#6,1-0006#6,1]: 1 bytes (1B)
L6:
  600001:[0001#1,1-0001#1,1]: 1 bytes (1B)
  600002:[0002#2,1-0002#2,1]: 1 bytes (1B)
  600003:[0003#3,1-0003#3,1]: 1 bytes (1B)
  600004:[0004#4,1-0004#4,1]: 1 bytes (1B)
  600005:[0005#5,1-0005#5,1]: 1 bytes (1B)
  600006:[0006#6,1-0006#6,1]: 1 bytes (1B)
  600007:[0007#7,1-0007#7,1]: 1 bytes (1B)
  600008:[0008#8,1-0008#8,1]: 1 bytes (1B)
  600009:[0009#9,1-0009#9,1]: 1 bytes (1B)
  600010:[0010#10,1-0010#10,1]: 1 bytes (1B)

init_cp
----
base: 4

queue
----
L4->L5: 10.0
  400007:[0007#7,1-0007#7,1] marked as compacting
L4->L5: 7.7
  400008:[0008#8,1-0008#8,1] marked as compacting

pick ongoing=(5,6)
----
Initial state before pick:
L0:
  000001:[0001#1,1-0001#1,1]: 1 bytes (1B)
  000002:[0001#2,1-0001#2,1]: 1 bytes (1B)
  000003:[0001#3,1-0001#3,1]: 1 bytes (1B)
  000004:[0001#4,1-0001#4,1]: 1 bytes (1B)
  000005:[0001#5,1-0001#5,1]: 1 bytes (1B)
  000006:[0001#6,1-0001#6,1]: 1 bytes (1B)
  000007:[0001#7,1-0001#7,1]: 1 bytes (1B)
  000008:[0001#8,1-0001#8,1]: 1 bytes (1B)
  000009:[0001#9,1-0001#9,1]: 1 bytes (1B)
  000010:[0001#10,1-0001#10,1]: 1 bytes (1B)
L4:
  400001:[0001#1,1-0001#1,1]: 1 bytes (1B)
  400002:[0002#2,1-0002#2,1]: 1 bytes (1B)
  400003:[0003#3,1-0003#3,1]: 1 bytes (1B)
  400004:[0004#4,1-0004#4,1]: 1 bytes (1B)
  400005:[0005#5,1-0005#5,1]: 1 bytes (1B)
  400006:[0006#6,1-0006#6,1]: 1 bytes (1B)
  400007:[0007#7,1-0007#7,1]: 1 bytes (1B)
  400008:[0008#8,1-0008#8,1]: 1 bytes (1B)
  400009:[0009#9,1-0009#9,1]: 1 bytes (1B)
  400010:[0010#10,1-0010#10,1]: 1 bytes (1B)
L5:
  500001:[0001#1,1-0001#1,1]: 1 bytes (1B) (IsCompacting)
  500002:[0002#2,1-0002#2,1]: 1 bytes (1B)
  500003:[0003#3,1-0003#3,1]: 1 bytes (1B)
  500004:[0004#4,1-0004#4,1]: 1 bytes (1B)
  500005:[0005#5,1-0005#5,1]: 1 bytes (1B)
  500006:[0006#6,1-0006#6,1]: 1 bytes (1B)
L6:
  600001:[0001#1,1-0001#1,1]: 1 bytes (1B) (IsCompacting)
  600002:[0002#2,1-0002#2,1]: 1 bytes (1B)
  600003:[0003#3,1-0003#3,1]: 1 bytes (1B)
  600004:[0004#4,1-0004#4,1]: 1 bytes (1B)
  600005:[0005#5,1-0005#5,1]: 1 bytes (1B)
  600006:[0006#6,1-0006#6,1]: 1 bytes (1B)
  600007:[0007#7,1-0007#7,1]: 1 bytes (1B)
  600008:[0008#8,1-0008#8,1]: 1 bytes (1B)
  600009:[0009#9,1-0009#9,1]: 1 bytes (1B)
  600010:[0010#10,1-0010#10,1]: 1 bytes (1B)
Picked: L4->L5: 12.0

pick ongoing=(0,4)
----
Initial state before pick:
L0:
  000001:[0001#1,1-0001#1,1]: 1 bytes (1B) (IsCompacting)
  000002:[0001#2,1-0001#2,1]: 1 bytes (1B)
  000003:[0001#3,1-0001#3,1]: 1 bytes (1B)
  000004:[0001#4,1-0001#4,1]: 1 bytes (1B)
  000005:[0001#5,1-0001#5,1]: 1 bytes (1B)
  000006:[0001#6,1-0001#6,1]: 1 bytes (1B)
  000007:[0001#7,1-0001#7,1]: 1 bytes (1B)
  000008:[0001#8,1-0001#8,1]: 1 bytes (1B)
  000009:[0001#9,1-0001#9,1]: 1 bytes (1B)
  000010:[0001#10,1-0001#10,1]: 1 bytes (1B)
L4:
  400001:[0001#1,1-0001#1,1]: 1 bytes (1B) (IsCompacting)
  400002:[0002#2,1-0002#2,1]: 1 bytes (1B) (IsCompacting)
  400003:[0003#3,1-0003#3,1]: 1 bytes (1B) (IsCompacting)
  400004:[0004#4,1-0004#4,1]: 1 bytes (1B) (IsCompacting)
  400005:[0005#5,1-0005#5,1]: 1 bytes (1B) (IsCompacting)
  400006:[0006#6,1-0006#6,1]: 1 bytes (1B) (IsCompacting)
  400007:[0007#7,1-0007#7,1]: 1 bytes (1B) (IsCompacting)
  400008:[0008#8,1-0008#8,1]: 1 bytes (1B) (IsCompacting)
  400009:[0009#9,1-0009#9,1]: 1 bytes (1B) (IsCompacting)
  400010:[0010#10,1-0010#10,1]: 1 bytes (1B) (IsCompacting)
L5:
  500001:[0001#1,1-0001#1,1]: 1 bytes (1B)
  500002:[0002#2,1-0002#2,1]: 1 bytes (1B)
  500003:[0003#3,1-0003#3,1]: 1 bytes (1B)
  500004:[0004#4,1-0004#4,1]: 1 bytes (1B)
  500005:[0005#5,1-0005#5,1]: 1 bytes (1B)
  500006:[0006#6,1-0006#6,1]: 1 bytes (1B)
L6:
  600001:[0001#1,1-0001#1,1]: 1 bytes (1B)
  600002:[0002#2,1-0002#2,1]: 1 bytes (1B)
  600003:[0003#3,1-0003#3,1]: 1 bytes (1B)
  600004:[0004#4,1-0004#4,1]: 1 bytes (1B)
  600005:[0005#5,1-0005#5,1]: 1 bytes (1B)
  600006:[0006#6,1-0006#6,1]: 1 bytes (1B)
  600007:[0007#7,1-0007#7,1]: 1 bytes (1B)
  600008:[0008#8,1-0008#8,1]: 1 bytes (1B)
  600009:[0009#9,1-0009#9,1]: 1 bytes (1B)
  600010:[0010#10,1-0010#10,1]: 1 bytes (1B)
Picked: L5->L6: 3.3

pick ongoing=(0,0,0,4)
----
Initial state before pick:
L0:
  000001:[0001#1,1-0001#1,1]: 1 bytes (1B) (IsCompacting)
  000002:[0001#2,1-0001#2,1]: 1 bytes (1B) (IsCompacting)
  000003:[0001#3,1-0001#3,1]: 1 bytes (1B) (IsCompacting)
  000004:[0001#4,1-0001#4,1]: 1 bytes (1B)
  000005:[0001#5,1-0001#5,1]: 1 bytes (1B)
  000006:[0001#6,1-0001#6,1]: 1 bytes (1B)
  000007:[0001#7,1-0001#7,1]: 1 bytes (1B)
  000008:[0001#8,1-0001#8,1]: 1 bytes (1B)
  000009:[0001#9,1-0001#9,1]: 1 bytes (1B)
  000010:[0001#10,1-0001#10,1]: 1 bytes (1B)
L4:
  400001:[0001#1,1-0001#1,1]: 1 bytes (1B) (IsCompacting)
  400002:[0002#2,1-0002#2,1]: 1 bytes (1B) (IsCompacting)
  400003:[0003#3,1-0003#3,1]: 1 bytes (1B) (IsCompacting)
  400004:[0004#4,1-0004#4,1]: 1 bytes (1B) (IsCompacting)
  400005:[0005#5,1-0005#5,1]: 1 bytes (1B) (IsCompacting)
  400006:[0006#6,1-0006#6,1]: 1 bytes (1B) (IsCompacting)
  400007:[0007#7,1-0007#7,1]: 1 bytes (1B) (IsCompacting)
  400008:[0008#8,1-0008#8,1]: 1 bytes (1B) (IsCompacting)
  400009:[0009#9,1-0009#9,1]: 1 bytes (1B) (IsCompacting)
  400010:[0010#10,1-0010#10,1]: 1 bytes (1B) (IsCompacting)
L5:
  500001:[0001#1,1-0001#1,1]: 1 bytes (1B)
  500002:[0002#2,1-0002#2,1]: 1 bytes (1B)
  500003:[0003#3,1-0003#3,1]: 1 bytes (1B)
  500004:[0004#4,1-0004#4,1]: 1 bytes (1B)
  500005:[0005#5,1-0005#5,1]: 1 bytes (1B)
  500006:[0006#6,1-0006#6,1]: 1 bytes (1B)
L6:
  600001:[0001#1,1-0001#1,1]: 1 bytes (1B)
  600002:[0002#2,1-0002#2,1]: 1 bytes (1B)
  600003:[0003#3,1-0003#3,1]: 1 bytes (1B)
  600004:[0004#4,1-0004#4,1]: 1 bytes (1B)
  600005:[0005#5,1-0005#5,1]: 1 bytes (1B)
  600006:[0006#6,1-0006#6,1]: 1 bytes (1B)
  600007:[0007#7,1-0007#7,1]: 1 bytes (1B)
  600008:[0008#8,1-0008#8,1]: 1 bytes (1B)
  600009:[0009#9,1-0009#9,1]: 1 bytes (1B)
  600010:[0010#10,1-0010#10,1]: 1 bytes (1B)
Picked: no compaction

init_cp
----
base: 4

pick ongoing=(0,5)
----
Initial state before pick:
L0:
  000001:[0001#1,1-0001#1,1]: 1 bytes (1B) (IsCompacting)
  000002:[0001#2,1-0001#2,1]: 1 bytes (1B)
  000003:[0001#3,1-0001#3,1]: 1 bytes (1B)
  000004:[0001#4,1-0001#4,1]: 1 bytes (1B)
  000005:[0001#5,1-0001#5,1]: 1 bytes (1B)
  000006:[0001#6,1-0001#6,1]: 1 bytes (1B)
  000007:[0001#7,1-0001#7,1]: 1 bytes (1B)
  000008:[0001#8,1-0001#8,1]: 1 bytes (1B)
  000009:[0001#9,1-0001#9,1]: 1 bytes (1B)
  000010:[0001#10,1-0001#10,1]: 1 bytes (1B)
L4:
  400001:[0001#1,1-0001#1,1]: 1 bytes (1B)
  400002:[0002#2,1-0002#2,1]: 1 bytes (1B)
  400003:[0003#3,1-0003#3,1]: 1 bytes (1B)
  400004:[0004#4,1-0004#4,1]: 1 bytes (1B)
  400005:[0005#5,1-0005#5,1]: 1 bytes (1B)
  400006:[0006#6,1-0006#6,1]: 1 bytes (1B)
  400007:[0007#7,1-0007#7,1]: 1 bytes (1B)
  400008:[0008#8,1-0008#8,1]: 1 bytes (1B)
  400009:[0009#9,1-0009#9,1]: 1 bytes (1B)
  400010:[0010#10,1-0010#10,1]: 1 bytes (1B)
L5:
  500001:[0001#1,1-0001#1,1]: 1 bytes (1B) (IsCompacting)
  500002:[0002#2,1-0002#2,1]: 1 bytes (1B) (IsCompacting)
  500003:[0003#3,1-0003#3,1]: 1 bytes (1B) (IsCompacting)
  500004:[0004#4,1-0004#4,1]: 1 bytes (1B) (IsCompacting)
  500005:[0005#5,1-0005#5,1]: 1 bytes (1B) (IsCompacting)
  500006:[0006#6,1-0006#6,1]: 1 bytes (1B) (IsCompacting)
L6:
  600001:[0001#1,1-0001#1,1]: 1 bytes (1B)
  600002:[0002#2,1-0002#2,1]: 1 bytes (1B)
  600003:[0003#3,1-0003#3,1]: 1 bytes (1B)
  600004:[0004#4,1-0004#4,1]: 1 bytes (1B)
  600005:[0005#5,1-0005#5,1]: 1 bytes (1B)
  600006:[0006#6,1-0006#6,1]: 1 bytes (1B)
  600007:[0007#7,1-0007#7,1]: 1 bytes (1B)
  600008:[0008#8,1-0008#8,1]: 1 bytes (1B)
  600009:[0009#9,1-0009#9,1]: 1 bytes (1B)
  600010:[0010#10,1-0010#10,1]: 1 bytes (1B)
Picked: L4->L5: 8.6

init 1
0: 20
6: 10
----
L0:
  000001:[0001#1,1-0001#1,1]: 1 bytes (1B)
  000002:[0001#2,1-0001#2,1]: 1 bytes (1B)
  000003:[0001#3,1-0001#3,1]: 1 bytes (1B)
  000004:[0001#4,1-0001#4,1]: 1 bytes (1B)
  000005:[0001#5,1-0001#5,1]: 1 bytes (1B)
  000006:[0001#6,1-0001#6,1]: 1 bytes (1B)
  000007:[0001#7,1-0001#7,1]: 1 bytes (1B)
  000008:[0001#8,1-0001#8,1]: 1 bytes (1B)
  000009:[0001#9,1-0001#9,1]: 1 bytes (1B)
  000010:[0001#10,1-0001#10,1]: 1 bytes (1B)
  000011:[0001#11,1-0001#11,1]: 1 bytes (1B)
  000012:[0001#12,1-0001#12,1]: 1 bytes (1B)
  000013:[0001#13,1-0001#13,1]: 1 bytes (1B)
  000014:[0001#14,1-0001#14,1]: 1 bytes (1B)
  000015:[0001#15,1-0001#15,1]: 1 bytes (1B)
  000016:[0001#16,1-0001#16,1]: 1 bytes (1B)
  000017:[0001#17,1-0001#17,1]: 1 bytes (1B)
  000018:[0001#18,1-0001#18,1]: 1 bytes (1B)
  000019:[0001#19,1-0001#19,1]: 1 bytes (1B)
  000020:[0001#20,1-0001#20,1]: 1 bytes (1B)
L6:
  600001:[0001#1,1-0001#1,1]: 1 bytes (1B)
  600002:[0002#2,1-0002#2,1]: 1 bytes (1B)
  600003:[0003#3,1-0003#3,1]: 1 bytes (1B)
  600004:[0004#4,1-0004#4,1]: 1 bytes (1B)
  600005:[0005#5,1-0005#5,1]: 1 bytes (1B)
  600006:[0006#6,1-0006#6,1]: 1 bytes (1B)
  600007:[0007#7,1-0007#7,1]: 1 bytes (1B)
  600008:[0008#8,1-0008#8,1]: 1 bytes (1B)
  600009:[0009#9,1-0009#9,1]: 1 bytes (1B)
  600010:[0010#10,1-0010#10,1]: 1 bytes (1B)

init_cp ongoing=(0,5)
----
base: 4

queue
----
L0->L4: 1000.0
  000001:[0001#1,1-0001#1,1] marked as compacting
  000002:[0001#2,1-0001#2,1] marked as compacting
  000003:[0001#3,1-0001#3,1] marked as compacting
  000004:[0001#4,1-0001#4,1] marked as compacting
  000005:[0001#5,1-0001#5,1] marked as compacting
  000006:[0001#6,1-0001#6,1] marked as compacting
  000007:[0001#7,1-0001#7,1] marked as compacting
  000008:[0001#8,1-0001#8,1] marked as compacting
  000009:[0001#9,1-0001#9,1] marked as compacting
  000010:[0001#10,1-0001#10,1] marked as compacting
  000011:[0001#11,1-0001#11,1] marked as compacting
  000012:[0001#12,1-0001#12,1] marked as compacting
  000013:[0001#13,1-0001#13,1] marked as compacting
  000014:[0001#14,1-0001#14,1] marked as compacting
  000015:[0001#15,1-0001#15,1] marked as compacting
  000016:[0001#16,1-0001#16,1] marked as compacting
  000017:[0001#17,1-0001#17,1] marked as compacting
  000018:[0001#18,1-0001#18,1] marked as compacting
  000019:[0001#19,1-0001#19,1] marked as compacting
  000020:[0001#20,1-0001#20,1] marked as compacting

pick
----
Initial state before pick:
L0:
  000001:[0001#1,1-0001#1,1]: 1 bytes (1B)
  000002:[0001#2,1-0001#2,1]: 1 bytes (1B)
  000003:[0001#3,1-0001#3,1]: 1 bytes (1B)
  000004:[0001#4,1-0001#4,1]: 1 bytes (1B)
  000005:[0001#5,1-0001#5,1]: 1 bytes (1B)
  000006:[0001#6,1-0001#6,1]: 1 bytes (1B)
  000007:[0001#7,1-0001#7,1]: 1 bytes (1B)
  000008:[0001#8,1-0001#8,1]: 1 bytes (1B)
  000009:[0001#9,1-0001#9,1]: 1 bytes (1B)
  000010:[0001#10,1-0001#10,1]: 1 bytes (1B)
  000011:[0001#11,1-0001#11,1]: 1 bytes (1B)
  000012:[0001#12,1-0001#12,1]: 1 bytes (1B)
  000013:[0001#13,1-0001#13,1]: 1 bytes (1B)
  000014:[0001#14,1-0001#14,1]: 1 bytes (1B)
  000015:[0001#15,1-0001#15,1]: 1 bytes (1B)
  000016:[0001#16,1-0001#16,1]: 1 bytes (1B)
  000017:[0001#17,1-0001#17,1]: 1 bytes (1B)
  000018:[0001#18,1-0001#18,1]: 1 bytes (1B)
  000019:[0001#19,1-0001#19,1]: 1 bytes (1B)
  000020:[0001#20,1-0001#20,1]: 1 bytes (1B)
L6:
  600001:[0001#1,1-0001#1,1]: 1 bytes (1B)
  600002:[0002#2,1-0002#2,1]: 1 bytes (1B)
  600003:[0003#3,1-0003#3,1]: 1 bytes (1B)
  600004:[0004#4,1-0004#4,1]: 1 bytes (1B)
  600005:[0005#5,1-0005#5,1]: 1 bytes (1B)
  600006:[0006#6,1-0006#6,1]: 1 bytes (1B)
  600007:[0007#7,1-0007#7,1]: 1 bytes (1B)
  600008:[0008#8,1-0008#8,1]: 1 bytes (1B)
  600009:[0009#9,1-0009#9,1]: 1 bytes (1B)
  600010:[0010#10,1-0010#10,1]: 1 bytes (1B)
Picked: L0->L4: 1000.0

pick ongoing=(0,4)
----
Initial state before pick:
L0:
  000001:[0001#1,1-0001#1,1]: 1 bytes (1B) (IsCompacting)
  000002:[0001#2,1-0001#2,1]: 1 bytes (1B)
  000003:[0001#3,1-0001#3,1]: 1 bytes (1B)
  000004:[0001#4,1-0001#4,1]: 1 bytes (1B)
  000005:[0001#5,1-0001#5,1]: 1 bytes (1B)
  000006:[0001#6,1-0001#6,1]: 1 bytes (1B)
  000007:[0001#7,1-0001#7,1]: 1 bytes (1B)
  000008:[0001#8,1-0001#8,1]: 1 bytes (1B)
  000009:[0001#9,1-0001#9,1]: 1 bytes (1B)
  000010:[0001#10,1-0001#10,1]: 1 bytes (1B)
  000011:[0001#11,1-0001#11,1]: 1 bytes (1B)
  000012:[0001#12,1-0001#12,1]: 1 bytes (1B)
  000013:[0001#13,1-0001#13,1]: 1 bytes (1B)
  000014:[0001#14,1-0001#14,1]: 1 bytes (1B)
  000015:[0001#15,1-0001#15,1]: 1 bytes (1B)
  000016:[0001#16,1-0001#16,1]: 1 bytes (1B)
  000017:[0001#17,1-0001#17,1]: 1 bytes (1B)
  000018:[0001#18,1-0001#18,1]: 1 bytes (1B)
  000019:[0001#19,1-0001#19,1]: 1 bytes (1B)
  000020:[0001#20,1-0001#20,1]: 1 bytes (1B)
L6:
  600001:[0001#1,1-0001#1,1]: 1 bytes (1B)
  600002:[0002#2,1-0002#2,1]: 1 bytes (1B)
  600003:[0003#3,1-0003#3,1]: 1 bytes (1B)
  600004:[0004#4,1-0004#4,1]: 1 bytes (1B)
  600005:[0005#5,1-0005#5,1]: 1 bytes (1B)
  600006:[0006#6,1-0006#6,1]: 1 bytes (1B)
  600007:[0007#7,1-0007#7,1]: 1 bytes (1B)
  600008:[0008#8,1-0008#8,1]: 1 bytes (1B)
  600009:[0009#9,1-0009#9,1]: 1 bytes (1B)
  600010:[0010#10,1-0010#10,1]: 1 bytes (1B)
Picked: no compaction

# We'll only pick a concurrent compaction if it is "high" priority
# (i.e. has a score >= highPriorityThreshold).

init 1
0: 20
5: 1
6: 10
----
L0:
  000001:[0001#1,1-0001#1,1]: 1 bytes (1B)
  000002:[0001#2,1-0001#2,1]: 1 bytes (1B)
  000003:[0001#3,1-0001#3,1]: 1 bytes (1B)
  000004:[0001#4,1-0001#4,1]: 1 bytes (1B)
  000005:[0001#5,1-0001#5,1]: 1 bytes (1B)
  000006:[0001#6,1-0001#6,1]: 1 bytes (1B)
  000007:[0001#7,1-0001#7,1]: 1 bytes (1B)
  000008:[0001#8,1-0001#8,1]: 1 bytes (1B)
  000009:[0001#9,1-0001#9,1]: 1 bytes (1B)
  000010:[0001#10,1-0001#10,1]: 1 bytes (1B)
  000011:[0001#11,1-0001#11,1]: 1 bytes (1B)
  000012:[0001#12,1-0001#12,1]: 1 bytes (1B)
  000013:[0001#13,1-0001#13,1]: 1 bytes (1B)
  000014:[0001#14,1-0001#14,1]: 1 bytes (1B)
  000015:[0001#15,1-0001#15,1]: 1 bytes (1B)
  000016:[0001#16,1-0001#16,1]: 1 bytes (1B)
  000017:[0001#17,1-0001#17,1]: 1 bytes (1B)
  000018:[0001#18,1-0001#18,1]: 1 bytes (1B)
  000019:[0001#19,1-0001#19,1]: 1 bytes (1B)
  000020:[0001#20,1-0001#20,1]: 1 bytes (1B)
L5:
  500001:[0001#1,1-0001#1,1]: 1 bytes (1B)
L6:
  600001:[0001#1,1-0001#1,1]: 1 bytes (1B)
  600002:[0002#2,1-0002#2,1]: 1 bytes (1B)
  600003:[0003#3,1-0003#3,1]: 1 bytes (1B)
  600004:[0004#4,1-0004#4,1]: 1 bytes (1B)
  600005:[0005#5,1-0005#5,1]: 1 bytes (1B)
  600006:[0006#6,1-0006#6,1]: 1 bytes (1B)
  600007:[0007#7,1-0007#7,1]: 1 bytes (1B)
  600008:[0008#8,1-0008#8,1]: 1 bytes (1B)
  600009:[0009#9,1-0009#9,1]: 1 bytes (1B)
  600010:[0010#10,1-0010#10,1]: 1 bytes (1B)

init_cp ongoing=(0,4)
----
base: 4

queue
----
L0->L4: 1000.0
  000001:[0001#1,1-0001#1,1] marked as compacting
  000002:[0001#2,1-0001#2,1] marked as compacting
  000003:[0001#3,1-0001#3,1] marked as compacting
  000004:[0001#4,1-0001#4,1] marked as compacting
  000005:[0001#5,1-0001#5,1] marked as compacting
  000006:[0001#6,1-0001#6,1] marked as compacting
  000007:[0001#7,1-0001#7,1] marked as compacting
  000008:[0001#8,1-0001#8,1] marked as compacting
  000009:[0001#9,1-0001#9,1] marked as compacting
  000010:[0001#10,1-0001#10,1] marked as compacting
  000011:[0001#11,1-0001#11,1] marked as compacting
  000012:[0001#12,1-0001#12,1] marked as compacting
  000013:[0001#13,1-0001#13,1] marked as compacting
  000014:[0001#14,1-0001#14,1] marked as compacting
  000015:[0001#15,1-0001#15,1] marked as compacting
  000016:[0001#16,1-0001#16,1] marked as compacting
  000017:[0001#17,1-0001#17,1] marked as compacting
  000018:[0001#18,1-0001#18,1] marked as compacting
  000019:[0001#19,1-0001#19,1] marked as compacting
  000020:[0001#20,1-0001#20,1] marked as compacting

pick ongoing=(0,4,4,5)
----
Initial state before pick:
L0:
  000001:[0001#1,1-0001#1,1]: 1 bytes (1B) (IsCompacting)
  000002:[0001#2,1-0001#2,1]: 1 bytes (1B)
  000003:[0001#3,1-0001#3,1]: 1 bytes (1B)
  000004:[0001#4,1-0001#4,1]: 1 bytes (1B)
  000005:[0001#5,1-0001#5,1]: 1 bytes (1B)
  000006:[0001#6,1-0001#6,1]: 1 bytes (1B)
  000007:[0001#7,1-0001#7,1]: 1 bytes (1B)
  000008:[0001#8,1-0001#8,1]: 1 bytes (1B)
  000009:[0001#9,1-0001#9,1]: 1 bytes (1B)
  000010:[0001#10,1-0001#10,1]: 1 bytes (1B)
  000011:[0001#11,1-0001#11,1]: 1 bytes (1B)
  000012:[0001#12,1-0001#12,1]: 1 bytes (1B)
  000013:[0001#13,1-0001#13,1]: 1 bytes (1B)
  000014:[0001#14,1-0001#14,1]: 1 bytes (1B)
  000015:[0001#15,1-0001#15,1]: 1 bytes (1B)
  000016:[0001#16,1-0001#16,1]: 1 bytes (1B)
  000017:[0001#17,1-0001#17,1]: 1 bytes (1B)
  000018:[0001#18,1-0001#18,1]: 1 bytes (1B)
  000019:[0001#19,1-0001#19,1]: 1 bytes (1B)
  000020:[0001#20,1-0001#20,1]: 1 bytes (1B)
L5:
  500001:[0001#1,1-0001#1,1]: 1 bytes (1B) (IsCompacting)
L6:
  600001:[0001#1,1-0001#1,1]: 1 bytes (1B)
  600002:[0002#2,1-0002#2,1]: 1 bytes (1B)
  600003:[0003#3,1-0003#3,1]: 1 bytes (1B)
  600004:[0004#4,1-0004#4,1]: 1 bytes (1B)
  600005:[0005#5,1-0005#5,1]: 1 bytes (1B)
  600006:[0006#6,1-0006#6,1]: 1 bytes (1B)
  600007:[0007#7,1-0007#7,1]: 1 bytes (1B)
  600008:[0008#8,1-0008#8,1]: 1 bytes (1B)
  600009:[0009#9,1-0009#9,1]: 1 bytes (1B)
  600010:[0010#10,1-0010#10,1]: 1 bytes (1B)
Picked: no compaction

pick ongoing=(4,5)
----
Initial state before pick:
L0:
  000001:[0001#1,1-0001#1,1]: 1 bytes (1B)
  000002:[0001#2,1-0001#2,1]: 1 bytes (1B)
  000003:[0001#3,1-0001#3,1]: 1 bytes (1B)
  000004:[0001#4,1-0001#4,1]: 1 bytes (1B)
  000005:[0001#5,1-0001#5,1]: 1 bytes (1B)
  000006:[0001#6,1-0001#6,1]: 1 bytes (1B)
  000007:[0001#7,1-0001#7,1]: 1 bytes (1B)
  000008:[0001#8,1-0001#8,1]: 1 bytes (1B)
  000009:[0001#9,1-0001#9,1]: 1 bytes (1B)
  000010:[0001#10,1-0001#10,1]: 1 bytes (1B)
  000011:[0001#11,1-0001#11,1]: 1 bytes (1B)
  000012:[0001#12,1-0001#12,1]: 1 bytes (1B)
  000013:[0001#13,1-0001#13,1]: 1 bytes (1B)
  000014:[0001#14,1-0001#14,1]: 1 bytes (1B)
  000015:[0001#15,1-0001#15,1]: 1 bytes (1B)
  000016:[0001#16,1-0001#16,1]: 1 bytes (1B)
  000017:[0001#17,1-0001#17,1]: 1 bytes (1B)
  000018:[0001#18,1-0001#18,1]: 1 bytes (1B)
  000019:[0001#19,1-0001#19,1]: 1 bytes (1B)
  000020:[0001#20,1-0001#20,1]: 1 bytes (1B)
L5:
  500001:[0001#1,1-0001#1,1]: 1 bytes (1B) (IsCompacting)
L6:
  600001:[0001#1,1-0001#1,1]: 1 bytes (1B)
  600002:[0002#2,1-0002#2,1]: 1 bytes (1B)
  600003:[0003#3,1-0003#3,1]: 1 bytes (1B)
  600004:[0004#4,1-0004#4,1]: 1 bytes (1B)
  600005:[0005#5,1-0005#5,1]: 1 bytes (1B)
  600006:[0006#6,1-0006#6,1]: 1 bytes (1B)
  600007:[0007#7,1-0007#7,1]: 1 bytes (1B)
  600008:[0008#8,1-0008#8,1]: 1 bytes (1B)
  600009:[0009#9,1-0009#9,1]: 1 bytes (1B)
  600010:[0010#10,1-0010#10,1]: 1 bytes (1B)
Picked: L0->L4: 1000.0

# Verify we can start concurrent Ln->Ln+1 compactions given sufficient
# priority.

init 1
5: 4
6: 10
----
L5:
  500001:[0001#1,1-0001#1,1]: 1 bytes (1B)
  500002:[0002#2,1-0002#2,1]: 1 bytes (1B)
  500003:[0003#3,1-0003#3,1]: 1 bytes (1B)
  500004:[0004#4,1-0004#4,1]: 1 bytes (1B)
L6:
  600001:[0001#1,1-0001#1,1]: 1 bytes (1B)
  600002:[0002#2,1-0002#2,1]: 1 bytes (1B)
  600003:[0003#3,1-0003#3,1]: 1 bytes (1B)
  600004:[0004#4,1-0004#4,1]: 1 bytes (1B)
  600005:[0005#5,1-0005#5,1]: 1 bytes (1B)
  600006:[0006#6,1-0006#6,1]: 1 bytes (1B)
  600007:[0007#7,1-0007#7,1]: 1 bytes (1B)
  600008:[0008#8,1-0008#8,1]: 1 bytes (1B)
  600009:[0009#9,1-0009#9,1]: 1 bytes (1B)
  600010:[0010#10,1-0010#10,1]: 1 bytes (1B)

init_cp
----
base: 5

queue
----
L5->L6: 5.2
  500001:[0001#1,1-0001#1,1] marked as compacting
  600001:[0001#1,1-0001#1,1] marked as compacting

pick
----
Initial state before pick:
L5:
  500001:[0001#1,1-0001#1,1]: 1 bytes (1B)
  500002:[0002#2,1-0002#2,1]: 1 bytes (1B)
  500003:[0003#3,1-0003#3,1]: 1 bytes (1B)
  500004:[0004#4,1-0004#4,1]: 1 bytes (1B)
L6:
  600001:[0001#1,1-0001#1,1]: 1 bytes (1B)
  600002:[0002#2,1-0002#2,1]: 1 bytes (1B)
  600003:[0003#3,1-0003#3,1]: 1 bytes (1B)
  600004:[0004#4,1-0004#4,1]: 1 bytes (1B)
  600005:[0005#5,1-0005#5,1]: 1 bytes (1B)
  600006:[0006#6,1-0006#6,1]: 1 bytes (1B)
  600007:[0007#7,1-0007#7,1]: 1 bytes (1B)
  600008:[0008#8,1-0008#8,1]: 1 bytes (1B)
  600009:[0009#9,1-0009#9,1]: 1 bytes (1B)
  600010:[0010#10,1-0010#10,1]: 1 bytes (1B)
Picked: L5->L6: 5.2

pick ongoing=(5,6)
----
Initial state before pick:
L5:
  500001:[0001#1,1-0001#1,1]: 1 bytes (1B) (IsCompacting)
  500002:[0002#2,1-0002#2,1]: 1 bytes (1B)
  500003:[0003#3,1-0003#3,1]: 1 bytes (1B)
  500004:[0004#4,1-0004#4,1]: 1 bytes (1B)
L6:
  600001:[0001#1,1-0001#1,1]: 1 bytes (1B) (IsCompacting)
  600002:[0002#2,1-0002#2,1]: 1 bytes (1B)
  600003:[0003#3,1-0003#3,1]: 1 bytes (1B)
  600004:[0004#4,1-0004#4,1]: 1 bytes (1B)
  600005:[0005#5,1-0005#5,1]: 1 bytes (1B)
  600006:[0006#6,1-0006#6,1]: 1 bytes (1B)
  600007:[0007#7,1-0007#7,1]: 1 bytes (1B)
  600008:[0008#8,1-0008#8,1]: 1 bytes (1B)
  600009:[0009#9,1-0009#9,1]: 1 bytes (1B)
  600010:[0010#10,1-0010#10,1]: 1 bytes (1B)
Picked: no compaction

# Verify that L0 score doesn't change with respect to L5's compensation.

init 5
0: 10
5: 5 1
6: 5
----
L0:
  000001:[0001#1,1-0001#1,1]: 1 bytes (1B)
  000002:[0001#2,1-0001#2,1]: 1 bytes (1B)
  000003:[0001#3,1-0001#3,1]: 1 bytes (1B)
  000004:[0001#4,1-0001#4,1]: 1 bytes (1B)
  000005:[0001#5,1-0001#5,1]: 1 bytes (1B)
  000006:[0001#6,1-0001#6,1]: 1 bytes (1B)
  000007:[0001#7,1-0001#7,1]: 1 bytes (1B)
  000008:[0001#8,1-0001#8,1]: 1 bytes (1B)
  000009:[0001#9,1-0001#9,1]: 1 bytes (1B)
  000010:[0001#10,1-0001#10,1]: 1 bytes (1B)
L5:
  500001:[0001#1,1-0001#1,1]: 1 bytes (1B)
  500002:[0002#2,1-0002#2,1]: 1 bytes (1B)
  500003:[0003#3,1-0003#3,1]: 1 bytes (1B)
  500004:[0004#4,1-0004#4,1]: 1 bytes (1B)
  500005:[0005#5,1-0005#5,1]: 1 bytes (1B)
L6:
  600001:[0001#1,1-0001#1,1]: 1 bytes (1B)
  600002:[0002#2,1-0002#2,1]: 1 bytes (1B)
  600003:[0003#3,1-0003#3,1]: 1 bytes (1B)
  600004:[0004#4,1-0004#4,1]: 1 bytes (1B)
  600005:[0005#5,1-0005#5,1]: 1 bytes (1B)

init_cp
----
base: 5

queue
----
L0->L5: 5.0
  000001:[0001#1,1-0001#1,1] marked as compacting
  000002:[0001#2,1-0001#2,1] marked as compacting
  000003:[0001#3,1-0001#3,1] marked as compacting
  000004:[0001#4,1-0001#4,1] marked as compacting
  000005:[0001#5,1-0001#5,1] marked as compacting
  000006:[0001#6,1-0001#6,1] marked as compacting
  000007:[0001#7,1-0001#7,1] marked as compacting
  000008:[0001#8,1-0001#8,1] marked as compacting
  000009:[0001#9,1-0001#9,1] marked as compacting
  000010:[0001#10,1-0001#10,1] marked as compacting
  500001:[0001#1,1-0001#1,1] marked as compacting
L5->L6: 11.5
  500005:[0005#5,1-0005#5,1] marked as compacting
  600005:[0005#5,1-0005#5,1] marked as compacting

init 5
0: 10
5: 5 0
6: 5
----
L0:
  000001:[0001#1,1-0001#1,1]: 1 bytes (1B)
  000002:[0001#2,1-0001#2,1]: 1 bytes (1B)
  000003:[0001#3,1-0001#3,1]: 1 bytes (1B)
  000004:[0001#4,1-0001#4,1]: 1 bytes (1B)
  000005:[0001#5,1-0001#5,1]: 1 bytes (1B)
  000006:[0001#6,1-0001#6,1]: 1 bytes (1B)
  000007:[0001#7,1-0001#7,1]: 1 bytes (1B)
  000008:[0001#8,1-0001#8,1]: 1 bytes (1B)
  000009:[0001#9,1-0001#9,1]: 1 bytes (1B)
  000010:[0001#10,1-0001#10,1]: 1 bytes (1B)
L5:
  500001:[0001#1,1-0001#1,1]: 1 bytes (1B)
  500002:[0002#2,1-0002#2,1]: 1 bytes (1B)
  500003:[0003#3,1-0003#3,1]: 1 bytes (1B)
  500004:[0004#4,1-0004#4,1]: 1 bytes (1B)
  500005:[0005#5,1-0005#5,1]: 1 bytes (1B)
L6:
  600001:[0001#1,1-0001#1,1]: 1 bytes (1B)
  600002:[0002#2,1-0002#2,1]: 1 bytes (1B)
  600003:[0003#3,1-0003#3,1]: 1 bytes (1B)
  600004:[0004#4,1-0004#4,1]: 1 bytes (1B)
  600005:[0005#5,1-0005#5,1]: 1 bytes (1B)

init_cp
----
base: 5

queue
----
L0->L5: 5.0
  000001:[0001#1,1-0001#1,1] marked as compacting
  000002:[0001#2,1-0001#2,1] marked as compacting
  000003:[0001#3,1-0001#3,1] marked as compacting
  000004:[0001#4,1-0001#4,1] marked as compacting
  000005:[0001#5,1-0001#5,1] marked as compacting
  000006:[0001#6,1-0001#6,1] marked as compacting
  000007:[0001#7,1-0001#7,1] marked as compacting
  000008:[0001#8,1-0001#8,1] marked as compacting
  000009:[0001#9,1-0001#9,1] marked as compacting
  000010:[0001#10,1-0001#10,1] marked as compacting
  500001:[0001#1,1-0001#1,1] marked as compacting
L5->L6: 10.8
  500002:[0002#2,1-0002#2,1] marked as compacting
  600002:[0002#2,1-0002#2,1] marked as compacting

# Verify that successive manual compactions interleaved with an automatic
# compaction does not trigger an error.

init 5
0: 10
5: 10
6: 5
----
L0:
  000001:[0001#1,1-0001#1,1]: 1 bytes (1B)
  000002:[0001#2,1-0001#2,1]: 1 bytes (1B)
  000003:[0001#3,1-0001#3,1]: 1 bytes (1B)
  000004:[0001#4,1-0001#4,1]: 1 bytes (1B)
  000005:[0001#5,1-0001#5,1]: 1 bytes (1B)
  000006:[0001#6,1-0001#6,1]: 1 bytes (1B)
  000007:[0001#7,1-0001#7,1]: 1 bytes (1B)
  000008:[0001#8,1-0001#8,1]: 1 bytes (1B)
  000009:[0001#9,1-0001#9,1]: 1 bytes (1B)
  000010:[0001#10,1-0001#10,1]: 1 bytes (1B)
L5:
  500001:[0001#1,1-0001#1,1]: 1 bytes (1B)
  500002:[0002#2,1-0002#2,1]: 1 bytes (1B)
  500003:[0003#3,1-0003#3,1]: 1 bytes (1B)
  500004:[0004#4,1-0004#4,1]: 1 bytes (1B)
  500005:[0005#5,1-0005#5,1]: 1 bytes (1B)
  500006:[0006#6,1-0006#6,1]: 1 bytes (1B)
  500007:[0007#7,1-0007#7,1]: 1 bytes (1B)
  500008:[0008#8,1-0008#8,1]: 1 bytes (1B)
  500009:[0009#9,1-0009#9,1]: 1 bytes (1B)
  500010:[0010#10,1-0010#10,1]: 1 bytes (1B)
L6:
  600001:[0001#1,1-0001#1,1]: 1 bytes (1B)
  600002:[0002#2,1-0002#2,1]: 1 bytes (1B)
  600003:[0003#3,1-0003#3,1]: 1 bytes (1B)
  600004:[0004#4,1-0004#4,1]: 1 bytes (1B)
  600005:[0005#5,1-0005#5,1]: 1 bytes (1B)

init_cp
----
base: 5

queue
----
L5->L6: 9.2
  500006:[0006#6,1-0006#6,1] marked as compacting
L5->L6: 6.9
  500007:[0007#7,1-0007#7,1] marked as compacting

pick_manual level=0 start=0 end=12
----
L0->L5, retryLater = false

pick
----
Initial state before pick:
L0:
  000001:[0001#1,1-0001#1,1]: 1 bytes (1B)
  000002:[0001#2,1-0001#2,1]: 1 bytes (1B)
  000003:[0001#3,1-0001#3,1]: 1 bytes (1B)
  000004:[0001#4,1-0001#4,1]: 1 bytes (1B)
  000005:[0001#5,1-0001#5,1]: 1 bytes (1B)
  000006:[0001#6,1-0001#6,1]: 1 bytes (1B)
  000007:[0001#7,1-0001#7,1]: 1 bytes (1B)
  000008:[0001#8,1-0001#8,1]: 1 bytes (1B)
  000009:[0001#9,1-0001#9,1]: 1 bytes (1B)
  000010:[0001#10,1-0001#10,1]: 1 bytes (1B)
L5:
  500001:[0001#1,1-0001#1,1]: 1 bytes (1B)
  500002:[0002#2,1-0002#2,1]: 1 bytes (1B)
  500003:[0003#3,1-0003#3,1]: 1 bytes (1B)
  500004:[0004#4,1-0004#4,1]: 1 bytes (1B)
  500005:[0005#5,1-0005#5,1]: 1 bytes (1B)
  500006:[0006#6,1-0006#6,1]: 1 bytes (1B)
  500007:[0007#7,1-0007#7,1]: 1 bytes (1B)
  500008:[0008#8,1-0008#8,1]: 1 bytes (1B)
  500009:[0009#9,1-0009#9,1]: 1 bytes (1B)
  500010:[0010#10,1-0010#10,1]: 1 bytes (1B)
L6:
  600001:[0001#1,1-0001#1,1]: 1 bytes (1B)
  600002:[0002#2,1-0002#2,1]: 1 bytes (1B)
  600003:[0003#3,1-0003#3,1]: 1 bytes (1B)
  600004:[0004#4,1-0004#4,1]: 1 bytes (1B)
  600005:[0005#5,1-0005#5,1]: 1 bytes (1B)
Picked: L5->L6: 9.2

# Assume the above two compactions (one manual L0 -> L5 and one automatic
# L5 -> L6) have run, and Lbase = L6 now, but the manual compaction code is
# still going to try running a manual compaction from L5 -> L6 since L5 was the
# output of the last manual compaction. No compaction should be picked.

init 5
0: 7
6: 5
----
L0:
  000001:[0001#1,1-0001#1,1]: 1 bytes (1B)
  000002:[0001#2,1-0001#2,1]: 1 bytes (1B)
  000003:[0001#3,1-0001#3,1]: 1 bytes (1B)
  000004:[0001#4,1-0001#4,1]: 1 bytes (1B)
  000005:[0001#5,1-0001#5,1]: 1 bytes (1B)
  000006:[0001#6,1-0001#6,1]: 1 bytes (1B)
  000007:[0001#7,1-0001#7,1]: 1 bytes (1B)
L6:
  600001:[0001#1,1-0001#1,1]: 1 bytes (1B)
  600002:[0002#2,1-0002#2,1]: 1 bytes (1B)
  600003:[0003#3,1-0003#3,1]: 1 bytes (1B)
  600004:[0004#4,1-0004#4,1]: 1 bytes (1B)
  600005:[0005#5,1-0005#5,1]: 1 bytes (1B)

init_cp
----
base: 5

pick_manual level=5 start=0 end=12
----
nil, retryLater = false


# Initialize with LbaseMaxBytes of 5, and give L5 a compensated size of 10000.
# Prior to prioritizing levels by the score instead of rawSmoothed score, L5
# would be picked for compaction over L0, because of its absurdly high compensated
# score.
init 5
0: 7
5: 4 10000
6: 5
----
L0:
  000001:[0001#1,1-0001#1,1]: 1 bytes (1B)
  000002:[0001#2,1-0001#2,1]: 1 bytes (1B)
  000003:[0001#3,1-0001#3,1]: 1 bytes (1B)
  000004:[0001#4,1-0001#4,1]: 1 bytes (1B)
  000005:[0001#5,1-0001#5,1]: 1 bytes (1B)
  000006:[0001#6,1-0001#6,1]: 1 bytes (1B)
  000007:[0001#7,1-0001#7,1]: 1 bytes (1B)
L5:
  500001:[0001#1,1-0001#1,1]: 1 bytes (1B)
  500002:[0002#2,1-0002#2,1]: 1 bytes (1B)
  500003:[0003#3,1-0003#3,1]: 1 bytes (1B)
  500004:[0004#4,1-0004#4,1]: 1 bytes (1B)
L6:
  600001:[0001#1,1-0001#1,1]: 1 bytes (1B)
  600002:[0002#2,1-0002#2,1]: 1 bytes (1B)
  600003:[0003#3,1-0003#3,1]: 1 bytes (1B)
  600004:[0004#4,1-0004#4,1]: 1 bytes (1B)
  600005:[0005#5,1-0005#5,1]: 1 bytes (1B)

init_cp
----
base: 5

queue
----
L0->L5: 4.4
  000001:[0001#1,1-0001#1,1] marked as compacting
  000002:[0001#2,1-0001#2,1] marked as compacting
  000003:[0001#3,1-0001#3,1] marked as compacting
  000004:[0001#4,1-0001#4,1] marked as compacting
  000005:[0001#5,1-0001#5,1] marked as compacting
  000006:[0001#6,1-0001#6,1] marked as compacting
  000007:[0001#7,1-0001#7,1] marked as compacting
  500001:[0001#1,1-0001#1,1] marked as compacting
