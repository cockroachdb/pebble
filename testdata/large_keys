# Set a target file size of 4MB.

define target-file-sizes=(4000000) format-major-version=17
----

# Commit many keys with 1MB-shared prefixes.

batch-commit
set a(p,1000000)arition
set a(p,1000000)alling
set a(p,1000000)eal
set a(p,1000000)ellate
set a(p,1000000)endectomy
set a(p,1000000)etizers
set a(p,1000000)etizing
set a(p,1000000)laude
set a(p,1000000)lauding
set a(p,1000000)le
set a(p,1000000)les
set a(p,1000000)letini
set a(p,1000000)letinis
set a(p,1000000)lebottomjeans
set a(p,1000000)lication
set a(p,1000000)ly
set a(p,1000000)lying
set a(p,1000000)ollo
set a(p,1000000)raisal
set a(p,1000000)raisals
set a(p,1000000)raiser
set a(p,1000000)raisers
set a(p,1000000)raising
set a(p,1000000)rentice
set a(p,1000000)rentices
set a(p,1000000)renticing
set a(p,1000000)roval
set a(p,1000000)rovals
set a(p,1000000)rove
----

flush verbose
----
L0.0:
  000005:[a(p,1000000)a(l,2)ing#11,SET-a(p,1000000)e(l,2)ate#13,SET] seqnums:[10-13] points:[a(p,1000000)a(l,2)ing#11,SET-a(p,1000000)e(l,2)ate#13,SET] size:563939
  000006:[a(p,1000000)endectomy#14,SET-a(p,1000000)laude#17,SET] seqnums:[14-17] points:[a(p,1000000)endectomy#14,SET-a(p,1000000)laude#17,SET] size:563957
  000007:[a(p,1000000)lauding#18,SET-a(p,1000000)les#20,SET] seqnums:[18-23] points:[a(p,1000000)lauding#18,SET-a(p,1000000)les#20,SET] size:563948
  000008:[a(p,1000000)letini#21,SET-a(p,1000000)ly#25,SET] seqnums:[21-25] points:[a(p,1000000)letini#21,SET-a(p,1000000)ly#25,SET] size:563942
  000009:[a(p,1000000)lying#26,SET-a(p,1000000)raisals#29,SET] seqnums:[26-29] points:[a(p,1000000)lying#26,SET-a(p,1000000)raisals#29,SET] size:563939
  000010:[a(p,1000000)raiser#30,SET-a(p,1000000)rentice#33,SET] seqnums:[30-33] points:[a(p,1000000)raiser#30,SET-a(p,1000000)rentice#33,SET] size:563954
  000011:[a(p,1000000)rentices#34,SET-a(p,1000000)rovals#37,SET] seqnums:[34-37] points:[a(p,1000000)rentices#34,SET-a(p,1000000)rovals#37,SET] size:563957
  000012:[a(p,1000000)rove#38,SET-a(p,1000000)rove#38,SET] seqnums:[38-38] points:[a(p,1000000)rove#38,SET-a(p,1000000)rove#38,SET] size:94435

layout filename=000005.sst
----
         0  data (46944)
     46949  data (46945)
     93899  data (46941)
    140845  data (46944)
    187794  index (46942)
    234741  index (46946)
    281692  index (46942)
    328639  index (46945)
    375589  top-index (187759)
    563353  properties (489)
    563847  meta-index (34)
    563886  footer (53)
    563939  EOF

properties file=000005
raw.key.size
index.size
index.partitions
----
raw.key.size:
  rocksdb.raw.key.size: 4000058
index.size:
  rocksdb.index.size: 8000259
  rocksdb.top-level.index.size: 4000122
index.partitions:
  rocksdb.index.partitions: 4

batch-commit
del-range a(p,1000000)arition a(p,1000000)eal
del-range a(p,1000000)ellate a(p,1000000)etizers
del-range a(p,1000000)etizing a(p,1000000)lauding
del-range a(p,1000000)le a(p,1000000)lebottomjeans
del-range a(p,1000000)lebottomjeans a(p,1000000)lication
del-range a(p,1000000)ly a(p,1000000)lying
del-range a(p,1000000)raisals a(p,1000000)rentice
del-range a(p,1000000)rentices a(p,1000000)roval
del-range a(p,1000000)rovals a(p,1000000)rove
----

flush verbose
----
L0.1:
  000015:[a(p,1000000)arition#39,RANGEDEL-a(p,1000000)rove#inf,RANGEDEL] seqnums:[39-47] points:[a(p,1000000)arition#39,RANGEDEL-a(p,1000000)rove#inf,RANGEDEL] size:18000961
L0.0:
  000005:[a(p,1000000)a(l,2)ing#11,SET-a(p,1000000)e(l,2)ate#13,SET] seqnums:[10-13] points:[a(p,1000000)a(l,2)ing#11,SET-a(p,1000000)e(l,2)ate#13,SET] size:563939
  000006:[a(p,1000000)endectomy#14,SET-a(p,1000000)laude#17,SET] seqnums:[14-17] points:[a(p,1000000)endectomy#14,SET-a(p,1000000)laude#17,SET] size:563957
  000007:[a(p,1000000)lauding#18,SET-a(p,1000000)les#20,SET] seqnums:[18-23] points:[a(p,1000000)lauding#18,SET-a(p,1000000)les#20,SET] size:563948
  000008:[a(p,1000000)letini#21,SET-a(p,1000000)ly#25,SET] seqnums:[21-25] points:[a(p,1000000)letini#21,SET-a(p,1000000)ly#25,SET] size:563942
  000009:[a(p,1000000)lying#26,SET-a(p,1000000)raisals#29,SET] seqnums:[26-29] points:[a(p,1000000)lying#26,SET-a(p,1000000)raisals#29,SET] size:563939
  000010:[a(p,1000000)raiser#30,SET-a(p,1000000)rentice#33,SET] seqnums:[30-33] points:[a(p,1000000)raiser#30,SET-a(p,1000000)rentice#33,SET] size:563954
  000011:[a(p,1000000)rentices#34,SET-a(p,1000000)rovals#37,SET] seqnums:[34-37] points:[a(p,1000000)rentices#34,SET-a(p,1000000)rovals#37,SET] size:563957
  000012:[a(p,1000000)rove#38,SET-a(p,1000000)rove#38,SET] seqnums:[38-38] points:[a(p,1000000)rove#38,SET-a(p,1000000)rove#38,SET] size:94435

layout filename=000015.sst
----
         0  data (8)
        13  index (24)
        42  range-del (18000310)
  18000357  properties (447)
  18000809  meta-index (94)
  18000908  footer (53)
  18000961  EOF

properties file=000015
rocksdb.raw
----
rocksdb.raw:
  rocksdb.raw.key.size: 9000139
  rocksdb.raw.value.size: 9000068
