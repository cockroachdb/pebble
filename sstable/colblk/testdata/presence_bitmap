#
# Test various all absent bitmaps of various sizes.
#

build
0
----
# presence bitmap (0 present out of 1)
0-4: 00000000 00000000 0000 # word  0: 0000000000000000 (sum 0)

build
0000
----
# presence bitmap (0 present out of 4)
0-4: 00000000 00000000 0000 # word  0: 0000000000000000 (sum 0)

build
0000000000000000
----
# presence bitmap (0 present out of 16)
0-4: 00000000 00000000 0000 # word  0: 0000000000000000 (sum 0)

build
00000000000000000
----
# presence bitmap (0 present out of 17)
0-4: 00000000 00000000 0000 # word  0: 0000000000000000 (sum 0)
4-8: 00000000 00000000 0000 # word  1: 0000000000000000 (sum 0)

build
00000000000000000000000000000000
----
# presence bitmap (0 present out of 32)
0-4: 00000000 00000000 0000 # word  0: 0000000000000000 (sum 0)
4-8: 00000000 00000000 0000 # word  1: 0000000000000000 (sum 0)

build
00000000000000000000000000000000
0
----
# presence bitmap (0 present out of 33)
00-04: 00000000 00000000 0000 # word  0: 0000000000000000 (sum 0)
04-08: 00000000 00000000 0000 # word  1: 0000000000000000 (sum 0)
08-12: 00000000 00000000 0000 # word  2: 0000000000000000 (sum 0)

build
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
----
# presence bitmap (0 present out of 320)
00-04: 00000000 00000000 0000 # word  0: 0000000000000000 (sum 0)
04-08: 00000000 00000000 0000 # word  1: 0000000000000000 (sum 0)
08-12: 00000000 00000000 0000 # word  2: 0000000000000000 (sum 0)
12-16: 00000000 00000000 0000 # word  3: 0000000000000000 (sum 0)
16-20: 00000000 00000000 0000 # word  4: 0000000000000000 (sum 0)
20-24: 00000000 00000000 0000 # word  5: 0000000000000000 (sum 0)
24-28: 00000000 00000000 0000 # word  6: 0000000000000000 (sum 0)
28-32: 00000000 00000000 0000 # word  7: 0000000000000000 (sum 0)
32-36: 00000000 00000000 0000 # word  8: 0000000000000000 (sum 0)
36-40: 00000000 00000000 0000 # word  9: 0000000000000000 (sum 0)
40-44: 00000000 00000000 0000 # word 10: 0000000000000000 (sum 0)
44-48: 00000000 00000000 0000 # word 11: 0000000000000000 (sum 0)
48-52: 00000000 00000000 0000 # word 12: 0000000000000000 (sum 0)
52-56: 00000000 00000000 0000 # word 13: 0000000000000000 (sum 0)
56-60: 00000000 00000000 0000 # word 14: 0000000000000000 (sum 0)
60-64: 00000000 00000000 0000 # word 15: 0000000000000000 (sum 0)
64-68: 00000000 00000000 0000 # word 16: 0000000000000000 (sum 0)
68-72: 00000000 00000000 0000 # word 17: 0000000000000000 (sum 0)
72-76: 00000000 00000000 0000 # word 18: 0000000000000000 (sum 0)
76-80: 00000000 00000000 0000 # word 19: 0000000000000000 (sum 0)

rank 0 1 2 3 4 5 63 64 65 319
----
-1 -1 -1 -1 -1 -1 -1 -1 -1 -1

#
# Test all-present bitmaps of various sizes.
#

build
1
----
# presence bitmap (1 present out of 1)
0-4: 00000001 00000000 0000 # word  0: 0000000000000001 (sum 0)

build
1111
----
# presence bitmap (4 present out of 4)
0-4: 00001111 00000000 0000 # word  0: 0000000000001111 (sum 0)

build
1111111111111111
----
# presence bitmap (16 present out of 16)
0-4: 11111111 11111111 0000 # word  0: 1111111111111111 (sum 0)

build
1111111111111111
1
----
# presence bitmap (17 present out of 17)
0-4: 11111111 11111111 0000 # word  0: 1111111111111111 (sum 0)
4-8: 00000001 00000000 1000 # word  1: 0000000000000001 (sum 16)

build
1111111111111111111111111111111111111111111111111111111111111111
1111111111111111111111111111111111111111111111111111111111111111
1111111111111111111111111111111111111111111111111111111111111111
1111111111111111111111111111111111111111111111111111111111111111
1111111111111111111111111111111111111111111111111111111111111111
----
# presence bitmap (320 present out of 320)
00-04: 11111111 11111111 0000 # word  0: 1111111111111111 (sum 0)
04-08: 11111111 11111111 1000 # word  1: 1111111111111111 (sum 16)
08-12: 11111111 11111111 2000 # word  2: 1111111111111111 (sum 32)
12-16: 11111111 11111111 3000 # word  3: 1111111111111111 (sum 48)
16-20: 11111111 11111111 4000 # word  4: 1111111111111111 (sum 64)
20-24: 11111111 11111111 5000 # word  5: 1111111111111111 (sum 80)
24-28: 11111111 11111111 6000 # word  6: 1111111111111111 (sum 96)
28-32: 11111111 11111111 7000 # word  7: 1111111111111111 (sum 112)
32-36: 11111111 11111111 8000 # word  8: 1111111111111111 (sum 128)
36-40: 11111111 11111111 9000 # word  9: 1111111111111111 (sum 144)
40-44: 11111111 11111111 a000 # word 10: 1111111111111111 (sum 160)
44-48: 11111111 11111111 b000 # word 11: 1111111111111111 (sum 176)
48-52: 11111111 11111111 c000 # word 12: 1111111111111111 (sum 192)
52-56: 11111111 11111111 d000 # word 13: 1111111111111111 (sum 208)
56-60: 11111111 11111111 e000 # word 14: 1111111111111111 (sum 224)
60-64: 11111111 11111111 f000 # word 15: 1111111111111111 (sum 240)
64-68: 11111111 11111111 0001 # word 16: 1111111111111111 (sum 256)
68-72: 11111111 11111111 1001 # word 17: 1111111111111111 (sum 272)
72-76: 11111111 11111111 2001 # word 18: 1111111111111111 (sum 288)
76-80: 11111111 11111111 3001 # word 19: 1111111111111111 (sum 304)

rank 0 1 2 3 4 5 63 64 65 319
----
0 1 2 3 4 5 63 64 65 319


# Repeat the above case, but this finishing one less bit than we set.

build rows=319
1111111111111111111111111111111111111111111111111111111111111111
1111111111111111111111111111111111111111111111111111111111111111
1111111111111111111111111111111111111111111111111111111111111111
1111111111111111111111111111111111111111111111111111111111111111
1111111111111111111111111111111111111111111111111111111111111111
----
# presence bitmap (319 present out of 319)
00-04: 11111111 11111111 0000 # word  0: 1111111111111111 (sum 0)
04-08: 11111111 11111111 1000 # word  1: 1111111111111111 (sum 16)
08-12: 11111111 11111111 2000 # word  2: 1111111111111111 (sum 32)
12-16: 11111111 11111111 3000 # word  3: 1111111111111111 (sum 48)
16-20: 11111111 11111111 4000 # word  4: 1111111111111111 (sum 64)
20-24: 11111111 11111111 5000 # word  5: 1111111111111111 (sum 80)
24-28: 11111111 11111111 6000 # word  6: 1111111111111111 (sum 96)
28-32: 11111111 11111111 7000 # word  7: 1111111111111111 (sum 112)
32-36: 11111111 11111111 8000 # word  8: 1111111111111111 (sum 128)
36-40: 11111111 11111111 9000 # word  9: 1111111111111111 (sum 144)
40-44: 11111111 11111111 a000 # word 10: 1111111111111111 (sum 160)
44-48: 11111111 11111111 b000 # word 11: 1111111111111111 (sum 176)
48-52: 11111111 11111111 c000 # word 12: 1111111111111111 (sum 192)
52-56: 11111111 11111111 d000 # word 13: 1111111111111111 (sum 208)
56-60: 11111111 11111111 e000 # word 14: 1111111111111111 (sum 224)
60-64: 11111111 11111111 f000 # word 15: 1111111111111111 (sum 240)
64-68: 11111111 11111111 0001 # word 16: 1111111111111111 (sum 256)
68-72: 11111111 11111111 1001 # word 17: 1111111111111111 (sum 272)
72-76: 11111111 11111111 2001 # word 18: 1111111111111111 (sum 288)
76-80: 11111111 01111111 3001 # word 19: 0111111111111111 (sum 304)

rank 0 1 2 3 4 5 63 64 65 318
----
0 1 2 3 4 5 63 64 65 318

# Repeat the above case, but this finishing only 303 bits (excluding a whole
# word plus a bit).

build rows=303
1111111111111111111111111111111111111111111111111111111111111111
1111111111111111111111111111111111111111111111111111111111111111
1111111111111111111111111111111111111111111111111111111111111111
1111111111111111111111111111111111111111111111111111111111111111
1111111111111111111111111111111111111111111111111111111111111111
----
# presence bitmap (303 present out of 303)
00-04: 11111111 11111111 0000 # word  0: 1111111111111111 (sum 0)
04-08: 11111111 11111111 1000 # word  1: 1111111111111111 (sum 16)
08-12: 11111111 11111111 2000 # word  2: 1111111111111111 (sum 32)
12-16: 11111111 11111111 3000 # word  3: 1111111111111111 (sum 48)
16-20: 11111111 11111111 4000 # word  4: 1111111111111111 (sum 64)
20-24: 11111111 11111111 5000 # word  5: 1111111111111111 (sum 80)
24-28: 11111111 11111111 6000 # word  6: 1111111111111111 (sum 96)
28-32: 11111111 11111111 7000 # word  7: 1111111111111111 (sum 112)
32-36: 11111111 11111111 8000 # word  8: 1111111111111111 (sum 128)
36-40: 11111111 11111111 9000 # word  9: 1111111111111111 (sum 144)
40-44: 11111111 11111111 a000 # word 10: 1111111111111111 (sum 160)
44-48: 11111111 11111111 b000 # word 11: 1111111111111111 (sum 176)
48-52: 11111111 11111111 c000 # word 12: 1111111111111111 (sum 192)
52-56: 11111111 11111111 d000 # word 13: 1111111111111111 (sum 208)
56-60: 11111111 11111111 e000 # word 14: 1111111111111111 (sum 224)
60-64: 11111111 11111111 f000 # word 15: 1111111111111111 (sum 240)
64-68: 11111111 11111111 0001 # word 16: 1111111111111111 (sum 256)
68-72: 11111111 11111111 1001 # word 17: 1111111111111111 (sum 272)
72-76: 11111111 01111111 2001 # word 18: 0111111111111111 (sum 288)

build
1010
----
# presence bitmap (2 present out of 4)
0-4: 00000101 00000000 0000 # word  0: 0000000000000101 (sum 0)

build
10101111
----
# presence bitmap (6 present out of 8)
0-4: 11110101 00000000 0000 # word  0: 0000000011110101 (sum 0)

build
101011111111
----
# presence bitmap (10 present out of 12)
0-4: 11110101 00001111 0000 # word  0: 0000111111110101 (sum 0)

build
1010111111110011
----
# presence bitmap (12 present out of 16)
0-4: 11110101 11001111 0000 # word  0: 1100111111110101 (sum 0)

build
10101011100011100
----
# presence bitmap (9 present out of 17)
0-4: 11010101 01110001 0000 # word  0: 0111000111010101 (sum 0)
4-8: 00000000 00000000 0900 # word  1: 0000000000000000 (sum 9)

build
1
----
# presence bitmap (1 present out of 1)
0-4: 00000001 00000000 0000 # word  0: 0000000000000001 (sum 0)

# 32-bits wide

build
1010101010111111111110000001110
----
# presence bitmap (19 present out of 31)
0-4: 01010101 11111101 0000 # word  0: 1111110101010101 (sum 0)
4-8: 00011111 00111000 0b00 # word  1: 0011100000011111 (sum 11)

rank 16 17 18 30 31
----
11 12 13 -1 -1

# 33-bits wide

build
10101010101111111111100000011101
----
# presence bitmap (20 present out of 32)
0-4: 01010101 11111101 0000 # word  0: 1111110101010101 (sum 0)
4-8: 00011111 10111000 0b00 # word  1: 1011100000011111 (sum 11)

# 64-bits wide

build
1010101010111111111110000001110101010101011111111111000000111011
----
# presence bitmap (40 present out of 64)
00-04: 01010101 11111101 0000 # word  0: 1111110101010101 (sum 0)
04-08: 00011111 10111000 0b00 # word  1: 1011100000011111 (sum 11)
08-12: 10101010 11111110 1400 # word  2: 1111111010101010 (sum 20)
12-16: 00001111 11011100 1f00 # word  3: 1101110000001111 (sum 31)

# 63-bits wide

build
101010101011111111111000000111010101010101111111111100000011101
----
# presence bitmap (39 present out of 63)
00-04: 01010101 11111101 0000 # word  0: 1111110101010101 (sum 0)
04-08: 00011111 10111000 0b00 # word  1: 1011100000011111 (sum 11)
08-12: 10101010 11111110 1400 # word  2: 1111111010101010 (sum 20)
12-16: 00001111 01011100 1f00 # word  3: 0101110000001111 (sum 31)

# 65-bits wide

build
1010101010111111111110000001110101010101011111111111000000111011
1
----
# presence bitmap (41 present out of 65)
00-04: 01010101 11111101 0000 # word  0: 1111110101010101 (sum 0)
04-08: 00011111 10111000 0b00 # word  1: 1011100000011111 (sum 11)
08-12: 10101010 11111110 1400 # word  2: 1111111010101010 (sum 20)
12-16: 00001111 11011100 1f00 # word  3: 1101110000001111 (sum 31)
16-20: 00000001 00000000 2800 # word  4: 0000000000000001 (sum 40)


build rows=5
1111111111111111
----
# presence bitmap (5 present out of 5)
0-4: 00011111 00000000 0000 # word  0: 0000000000011111 (sum 0)
