write-block
a@10#1,SET:apple
b@5#2,SET:banana
b@2#3,SETWITHDEL:blueberry
c@9#4,SETWITHDEL:coconut
c@6#5,SET:cantaloupe
c@1#6,SET:clementine
----

iter verbose synthetic-seq-num=1234
first
next
next
seek-ge c
next
prev
prev
prev
seek-lt c
prev
prev
next
----
a@10#1234,SET:apple
b@5#1234,SET:banana
b@2#1234,SETWITHDEL:blueberry
c@9#1234,SETWITHDEL:coconut
c@6#1234,SET:cantaloupe
c@9#1234,SETWITHDEL:coconut
b@2#1234,SETWITHDEL:blueberry
b@5#1234,SET:banana
b@2#1234,SETWITHDEL:blueberry
b@5#1234,SET:banana
a@10#1234,SET:apple
b@5#1234,SET:banana

write-block
a@10#1,SET:apple obsolete
b@5#3,SET:banana
b@5#2,SET:banana-old obsolete
b@2#3,SET:blueberry-old obsolete
c@9#4,SET:coconut
c@6#5,SET:cantaloupe-old obsolete
c@1#7,SET:clementine
c@1#6,SET:clementine-old obsolete
----

iter hide-obsolete-points
first
next
next
next
----
b@5:banana
c@9:coconut
c@1:clementine
.

iter hide-obsolete-points
first
next
next
next
prev
prev
next
prev
prev
prev
----
b@5:banana
c@9:coconut
c@1:clementine
.
c@1:clementine
c@9:coconut
c@1:clementine
c@9:coconut
b@5:banana
.


iter hide-obsolete-points
last
prev
next
prev
prev
prev
next
----
c@1:clementine
c@9:coconut
c@1:clementine
c@9:coconut
b@5:banana
.
b@5:banana

iter hide-obsolete-points
seek-ge a
prev
next
----
b@5:banana
.
b@5:banana

iter hide-obsolete-points
seek-ge d
prev
prev
----
.
c@1:clementine
c@9:coconut

iter hide-obsolete-points
seek-lt c
next
next
prev
prev
prev
----
b@5:banana
c@9:coconut
c@1:clementine
c@9:coconut
b@5:banana
.

# Test a block with only obsolete points.
write-block
a@1#1,SET:a obsolete
b@1#1,SET:b obsolete
c@1#1,SET:c obsolete
----

iter hide-obsolete-points
first
next
prev
last
next
prev
seek-ge a
next
prev
seek-ge b
next
prev
seek-lt z
next
prev
seek-lt b
next
prev
----
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
