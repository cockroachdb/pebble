reset
----
  ?????

report
[]
[]
----
  -----

reset
----
  ?????

report
[]
[a, a]
----
  -----*?????
       |
       a

report
[c, c]
[d, d]
----
  -----*?????*-----*?????
       |     |     |
       a     c     d

report
[u, v)
[]
----
  -----*?????*-----*?????******|-----
       |     |     |     |     |
       a     c     d     u     v

report
[a1, a1]
[a2, a2]
----
  -----*?????*-----*?????*-----*?????******|-----
       |     |     |     |     |     |     |
       a     a1    a2    c     d     u     v

report-data
[a2, a2]
----
  -----*?????*-----*?????*-----*?????******|-----
       |     |     |     |     |     |     |
       a     a1    a2    c     d     u     v

# We should evict a (and the start region is now unknown).
report
[e, f]
[g, g]
----
  ?????*?????*-----*?????*******-----*?????******|-----
       |     |     |     |     |     |     |     |
       a2    c     d     e     f     g     u     v

# We should evict a2 and a3.
report
[h, h]
[i, i]
----
  ?????*?????*******-----*?????*-----*?????******|-----
       |     |     |     |     |     |     |     |
       d     e     f     g     h     i     u     v


# We should evict u and v (and the end region is now unknown).
report
[g00, g01)
[g10, g10]
----
  ?????*******-----*?????******|-----*?????*-----*?????
       |     |     |     |     |     |     |     |
       e     f     g    g00   g01   g10    h     i

report
[g20, g20]
[g21, g21]
----
  ?????******|-----*?????*-----*?????*-----*?????
       |     |     |     |     |     |     |
      g00   g01   g10   g20   g21    h     i

report
[g15, g15]
[g16, g16]
----
  ?????******|-----*?????*-----*?????*-----*?????
       |     |     |     |     |     |     |
      g00   g01   g10   g15   g16   g20   g21

## Test region coalescing.
reset
----
  ?????

report-data
[a, b]
----
  ?????*******?????
       |     |
       a     b

report-data
[c, d)
----
  ?????*******?????******|?????
       |     |     |     |
       a     b     c     d

report-data
[e, f)
----
  ?????*******?????******|?????******|?????
       |     |     |     |     |     |
       a     b     c     d     e     f

report-data
[g, h]
----
  ?????*******?????******|?????******|?????*******?????
       |     |     |     |     |     |     |     |
       a     b     c     d     e     f     g     h

# Coalesce into [a, d).
report-data
[a, c1]
----
  ?????******|?????******|?????*******?????
       |     |     |     |     |     |
       a     d     e     f     g     h

# We now coalesce regions into [e, h].
report-data
[f, g)
----
  ?????******|?????*******?????
       |     |     |     |
       a     d     e     h

report-data
[c2, e)
----
  ?????*******?????
       |     |
       a     h

reset
----
  ?????

report-data
[a, b]
----
  ?????*******?????
       |     |
       a     b

report-data
[c, d)
----
  ?????*******?????******|?????
       |     |     |     |
       a     b     c     d

report-data
[e, f)
----
  ?????*******?????******|?????******|?????
       |     |     |     |     |     |
       a     b     c     d     e     f

report
[a5, b2]
[b8, e)
----
  ?????*******-----******|?????
       |     |     |     |
       a     b2    b8    f
