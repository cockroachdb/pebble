define
a-b:{(#5,RANGEKEYSET) (#3,RANGEKEYSET)}
----
a-b:{(#5,RANGEKEYSET) (#3,RANGEKEYSET)}

visible
6
5
4
3
2
1
----
6 : a-b:{(#5,RANGEKEYSET) (#3,RANGEKEYSET)}
5 : a-b:{(#3,RANGEKEYSET)}
4 : a-b:{(#3,RANGEKEYSET)}
3 : a-b:{}
2 : a-b:{}
1 : a-b:{}

define
a-c:{(#36028797018963996,RANGEKEYSET) (#36028797018963995,RANGEKEYSET)}
----
a-c:{(#36028797018963996,RANGEKEYSET) (#36028797018963995,RANGEKEYSET)}

visible
5
1
----
5 : a-c:{(#36028797018963996,RANGEKEYSET) (#36028797018963995,RANGEKEYSET)}
1 : a-c:{(#36028797018963996,RANGEKEYSET) (#36028797018963995,RANGEKEYSET)}

define
a-c:{(#36028797018963996,RANGEKEYSET) (#36028797018963995,RANGEKEYSET) (#10,RANGEKEYSET) (#9,RANGEKEYSET) (#4,RANGEKEYSET) (#1,RANGEKEYSET)}
----
a-c:{(#36028797018963996,RANGEKEYSET) (#36028797018963995,RANGEKEYSET) (#10,RANGEKEYSET) (#9,RANGEKEYSET) (#4,RANGEKEYSET) (#1,RANGEKEYSET)}

# Test 'sandwich cases'. Eg, at snapshot=7 the keys at #10 and #9 are invisible,
# but the batch keys and the keys at #4 and #1 are visible.

visible
12
10
8
7
4
3
2
1
----
12: a-c:{(#36028797018963996,RANGEKEYSET) (#36028797018963995,RANGEKEYSET) (#10,RANGEKEYSET) (#9,RANGEKEYSET) (#4,RANGEKEYSET) (#1,RANGEKEYSET)}
10: a-c:{(#36028797018963996,RANGEKEYSET) (#36028797018963995,RANGEKEYSET) (#9,RANGEKEYSET) (#4,RANGEKEYSET) (#1,RANGEKEYSET)}
8 : a-c:{(#36028797018963996,RANGEKEYSET) (#36028797018963995,RANGEKEYSET) (#4,RANGEKEYSET) (#1,RANGEKEYSET)}
7 : a-c:{(#36028797018963996,RANGEKEYSET) (#36028797018963995,RANGEKEYSET) (#4,RANGEKEYSET) (#1,RANGEKEYSET)}
4 : a-c:{(#36028797018963996,RANGEKEYSET) (#36028797018963995,RANGEKEYSET) (#1,RANGEKEYSET)}
3 : a-c:{(#36028797018963996,RANGEKEYSET) (#36028797018963995,RANGEKEYSET) (#1,RANGEKEYSET)}
2 : a-c:{(#36028797018963996,RANGEKEYSET) (#36028797018963995,RANGEKEYSET) (#1,RANGEKEYSET)}
1 : a-c:{(#36028797018963996,RANGEKEYSET) (#36028797018963995,RANGEKEYSET)}
